{% extends "base.html" %}
{% block title %}AUTOASSESS{% endblock %}

{% block content %}
<div class="chat-header">
    <div class="text-scramble" data-text="AUTOASSESS">AUTOASSESS</div>
</div>
<div class="chat-content-container">
    <div class="chat-messages-wrapper">
        <div class="chat-messages">
            <!-- Add an animation of adding a folder -->

            <div class="message user-message hidden" data-message-index="0">Take a look at this project folder, what
                does it do?</div>
            <div class="thinking-message hidden" data-message-index="1">Analyzing ...</div>
            <div class="message edson-message hidden" data-message-index="2">
                <p class="typing-animation"
                    data-text="I have analyzed the project folder and it seems to be a website-evaluation-related project, I will compile a summary of it for you.">
                </p>
            </div>
            <div class="message edson-message wide-content hidden" data-message-index="3">
                <div class="project-detail-content">
                    <div class="project-header">
                        <img src="{{ url_for('static', filename='media/projects/autoassess/autoassess.png') }}"
                            alt="Caduceus Logo" class="project-logo">
                        <div class="project-title-area">
                            <h1>AutoAssess</h1>
                            <p class="project-tagline">Auto website evaluation with AI</p>
                        </div>
                    </div>

                    <div class="project-overview">
                        <h2>Project Overview</h2>
                        <p>During my studies at Nanyang Polytechnic, I developed AutoAssess - my first venture into AI development. 
                           This tool performs automated website evaluation using artificial intelligence. Built with Python and Flask, 
                           it leverages BeautifulSoup and Selenium for web scraping, while employing machine learning algorithms to 
                           analyze website content, structure, and performance metrics to generate comprehensive feedback reports.</p>
                    </div>

                    <div class="key-features">
                        <h2>My Key Features</h2>
                        <div class="feature-grid">
                            <div class="feature-item">
                                <div class="feature-icon"><i class="fas fa-brain"></i></div>
                                <div class="feature-text">
                                    <h3>Web Scraping</h3>
                                    <p>Retrieve visual information from targeted website</p>
                                </div>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon"><i class="fas fa-history"></i></div>
                                <div class="feature-text">
                                    <h3>Monthly Visitors Prediction</h3>
                                    <p>Using machine learning to predict monthly visitors</p>
                                </div>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon"><i class="fas fa-notes-medical"></i></div>
                                <div class="feature-text">
                                    <h3>Display Evaluation</h3>
                                    <p>Grades website and produce report on the evaluation</p>
                                </div>
                            </div>
                            <div class="feature-item">
                                <div class="feature-icon"><i class="fas fa-chart-line"></i></div>
                                <div class="feature-text">
                                    <h3>Downloadable Report</h3>
                                    <p>Allow exporting report in PDF</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tech-stack">
                        <h2>Technologies Used</h2>
                        <div class="tech-tags">
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">Scikit-learn</span>
                            <span class="tech-tag">Flask</span>
                            <span class="tech-tag">HTML/CSS</span>
                            <span class="tech-tag">JavaScript</span>
                            <span class="tech-tag">BeautifulSoup</span>
                            <span class="tech-tag">Selenium</span>
                        </div>
                    </div>

                    <div class="project-screenshots">
                        <h2>Screenshots</h2>
                        <div class="screenshot-carousel">
                            <div class="screenshot">
                                <video controls width="100%">
                                    <source src="{{ url_for('static', filename='media/projects/autoassess/Demo.mp4') }}" type="video/mp4">
                                    Your browser does not support the video tag.
                                </video>
                                <p class="caption">AutoAssess Demo</p>
                            </div>
                            <div class="screenshot">
                                <img src="{{ url_for('static', filename='media/projects/autoassess/main_page.png') }}"
                                    alt="Main page">
                                <p class="caption">Main page</p>
                            </div>
                            <div class="screenshot">
                                <img src="{{ url_for('static', filename='media/projects/autoassess/report_page.png') }}"
                                    alt="Report page">
                                <p class="caption">Report page</p>
                            </div>
                            <div class="screenshot">
                                <img src="{{ url_for('static', filename='media/projects/autoassess/export_report.png') }}"
                                    alt="Exported">
                                <p class="caption">Exported Report</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="message user-message hidden" data-message-index="4">Oh! Can I try out the AI features?</div>
            <div class="message edson-message wide-content hidden" data-message-index="5">
                <div class="autoassess-demo">
                    <h2>AutoAssess Demo</h2>
                    <div class="demo-form">
                        <p>Enter a website URL to analyze:</p>
                        <div class="input-group">
                            <input type="text" id="website-url" placeholder="https://example.com" class="website-input">
                            <button id="analyze-btn" class="analyze-button">Analyze</button>
                        </div>
                        <div id="loading-indicator" class="loading-hidden">
                            <div class="analysis-progress">
                                <div class="progress-steps">
                                    <div class="step active" data-step="1">
                                        <div class="step-icon"><i class="fas fa-spider"></i></div>
                                        <div class="step-label">Crawling</div>
                                    </div>
                                    <div class="step" data-step="2">
                                        <div class="step-icon"><i class="fas fa-search"></i></div>
                                        <div class="step-label">Analyzing</div>
                                    </div>
                                    <div class="step" data-step="3">
                                        <div class="step-icon"><i class="fas fa-chart-bar"></i></div>
                                        <div class="step-label">Scoring</div>
                                    </div>
                                    <div class="step" data-step="4">
                                        <div class="step-icon"><i class="fas fa-file-alt"></i></div>
                                        <div class="step-label">Reporting</div>
                                    </div>
                                </div>
                                <div class="progress-bar-container">
                                    <div class="progress-bar"></div>
                                </div>
                                <p class="analysis-status">Crawling website content...</p>
                            </div>
                        </div>
                    </div>
                    <div id="analysis-results" class="analysis-results hidden">
                        <div class="results-header">
                            <div class="site-preview">
                                <div class="preview-container">
                                    <img id="site-thumbnail" src="" alt="Website preview">
                                    <div class="preview-overlay">
                                        <span id="site-domain">example.com</span>
                                    </div>
                                </div>
                            </div>
                            <div class="site-overview">
                                <h3 id="site-title" class="site-title">Website Analysis Report</h3>
                                <p id="site-url" class="site-url">https://example.com</p>
                                <div class="score-card">
                                    <div class="overall-score">
                                        <div class="score-circle">
                                            <span id="overall-score">85</span>
                                        </div>
                                        <span class="score-label">Overall Score</span>
                                    </div>
                                    <div class="score-breakdown">
                                        <div class="breakdown-item">
                                            <span class="breakdown-label">Performance</span>
                                            <span id="performance-score" class="breakdown-score good">92</span>
                                        </div>
                                        <div class="breakdown-item">
                                            <span class="breakdown-label">SEO</span>
                                            <span id="seo-score" class="breakdown-score average">75</span>
                                        </div>
                                        <div class="breakdown-item">
                                            <span class="breakdown-label">Accessibility</span>
                                            <span id="accessibility-score" class="breakdown-score good">88</span>
                                        </div>
                                        <div class="breakdown-item">
                                            <span class="breakdown-label">Best Practices</span>
                                            <span id="practices-score" class="breakdown-score good">85</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="results-tabs">
                            <div class="tab active" data-tab="performance">Performance</div>
                            <div class="tab" data-tab="seo">SEO</div>
                            <div class="tab" data-tab="accessibility">Accessibility</div>
                            <div class="tab" data-tab="practices">Best Practices</div>
                        </div>
                        <div class="tab-content active" data-content="performance">
                            <div class="metric-cards">
                                <div class="metric-card">
                                    <div class="metric-icon good">
                                        <i class="fas fa-tachometer-alt"></i>
                                    </div>
                                    <div class="metric-details">
                                        <h4>Page Speed</h4>
                                        <p>Page loads in 1.8 seconds</p>
                                        <div class="metric-score good">Fast</div>
                                    </div>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-icon average">
                                        <i class="fas fa-server"></i>
                                    </div>
                                    <div class="metric-details">
                                        <h4>Server Response</h4>
                                        <p>Time to first byte: 350ms</p>
                                        <div class="metric-score average">Average</div>
                                    </div>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-icon good">
                                        <i class="fas fa-compress"></i>
                                    </div>
                                    <div class="metric-details">
                                        <h4>Resource Optimization</h4>
                                        <p>Assets are properly compressed</p>
                                        <div class="metric-score good">Optimized</div>
                                    </div>
                                </div>
                            </div>
                            <div class="recommendations-section">
                                <h4>Recommendations</h4>
                                <ul class="recommendations-list">
                                    <li class="recommendation-item">
                                        <span class="priority medium">MEDIUM</span>
                                        <p>Optimize image sizes to improve load time</p>
                                    </li>
                                    <li class="recommendation-item">
                                        <span class="priority low">LOW</span>
                                        <p>Consider using a Content Delivery Network (CDN)</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="tab-content" data-content="seo">
                            <!-- SEO content will appear here -->
                            <div class="recommendations-section">
                                <h4>SEO Issues Found</h4>
                                <ul class="recommendations-list">
                                    <li class="recommendation-item">
                                        <span class="priority high">HIGH</span>
                                        <p>Missing meta descriptions on 4 pages</p>
                                    </li>
                                    <li class="recommendation-item">
                                        <span class="priority medium">MEDIUM</span>
                                        <p>Improve heading structure (H1, H2, H3 hierarchy)</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="tab-content" data-content="accessibility">
                            <!-- Accessibility content will appear here -->
                        </div>
                        <div class="tab-content" data-content="practices">
                            <!-- Best Practices content will appear here -->
                        </div>
                        <div class="report-actions">
                            <button id="download-report" class="report-button">
                                <i class="fas fa-download"></i> Download Full Report
                            </button>
                            <button id="share-report" class="report-button">
                                <i class="fas fa-share-alt"></i> Share Report
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    // Set the page identification for the JavaScript
    document.body.dataset.page = 'autoassess';
    
    // Directly attach event listener as a backup
    document.addEventListener('DOMContentLoaded', function() {
        const analyzeBtn = document.getElementById('analyze-btn');
        if (analyzeBtn) {
            console.log("Adding click handler directly in page");
            analyzeBtn.addEventListener('click', function() {
                console.log("Analyze button clicked (direct handler)");
                const websiteInput = document.getElementById('website-url');
                const loadingIndicator = document.getElementById('loading-indicator');
                
                if (websiteInput && loadingIndicator) {
                    if (!websiteInput.value.trim()) {
                        websiteInput.style.borderColor = "#e74c3c";
                        setTimeout(() => websiteInput.style.borderColor = "", 800);
                        return;
                    }
                    
                    loadingIndicator.classList.remove('loading-hidden');
                }
            });
        }
    });
</script>
{% endblock %}